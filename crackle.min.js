/**
 * Crackle
 * JavaScript predicate, comparator, equality, and utility functions
 * https://github.com/wayoutmind/crackle
 */

(function(a){"use strict",Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(this==null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(c===0)return-1;var d=0;arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:d!=0&&d!=Infinity&&d!=-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;var e=d>=0?d:Math.max(c-Math.abs(d),0);for(;e<c;e++)if(e in b&&b[e]===a)return e;return-1});var b={not:function(a){return{"in":function(b){if(Array.prototype.slice.call(arguments).length===1)return a.filter(function(a){return b.indexOf(a)<0});var b=Array.prototype.slice.call(arguments);return a.filter(function(a){return b.indexOf(a)<0})}}},key:function(a){return{"in":function(b){for(var c in b)if(a===c)return!0;return!1}}},is:function(a){return{"in":function(b){return Array.prototype.slice.call(arguments).length===1?b.some(function(b){return a===b}):Array.prototype.slice.call(arguments).some(function(b){return a===b})},all:function(b){for(var c=0;c<a.length;c++)if(!b(a[c]))return!1;return!0},"typeof":function(b){if(Array.isArray(a)){for(var c=0;c<a.length;c++)if(typeof a[c]!==b)return!1;return!0}return typeof a===b},"instanceof":function(b){if(Array.isArray(a)){for(var c=0;c<a.length;c++)if(!(a[c]instanceof b))return!1;return!0}return a instanceof b},key:function(c){return{all:function(b){for(var d=0;d<a.length;d++)if(!b(a[d][c]))return!1;return!0},defined:function(){for(var d=0;d<a.length;d++)if(!b.key(c).in(a[d]))return!1;return!0}}}}}};a!==null&&(b.parse=function(b){return Array.isArray(b)?b.map(function(b){return a(b)}):a(b)},b.stringify=function(a){return typeof a=="string"?a:Array.isArray(a)?a.map(function(a){return a.outerHTML}):a.outerHTML},b.similar=function(c){return{to:function(d){return b.stringify(c)===b.stringify(d)?!0:a(c).attr("id")===a(d).attr("id")?!0:!1}}}),typeof window!="undefined"?window.Crackle=b:exports=module.exports=b})(function(){return typeof jQuery!="undefined"?jQuery:null}())